<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <style>
      body { font-family: Arial, sans-serif; margin: 16px; width: 380px; }
      h1 { font-size: 16px; margin: 0 0 12px 0; }
      #colorWidget { width: 100%; height: 180px; border-radius: 8px; display:flex; flex-direction:column; align-items:center; justify-content:center; cursor:pointer; color:#fff; font-weight:600; padding:12px; box-sizing:border-box; }
      .swatches { display:flex; gap:6px; margin-top:8px; flex-wrap:wrap; justify-content:center; }
      .swatch { width:18px; height:18px; border-radius:4px; box-shadow:0 0 0 1px rgba(0,0,0,0.06) inset; }
      /* picker modal */
      .modal { position:fixed; inset:0; background:rgba(0,0,0,0.5); display:flex; align-items:center; justify-content:center; z-index:9999; }
      .modal-content { background:#fff; border-radius:8px; width:320px; max-width:92%; padding:12px; box-shadow:0 6px 20px rgba(0,0,0,0.2); }
      .modal-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
      .palette-list { display:flex; flex-direction:column; gap:8px; max-height:320px; overflow:auto; }
      .palette-card { display:flex; align-items:center; gap:8px; padding:8px; border-radius:6px; cursor:pointer; border:1px solid #eee; }
      .palette-card.selected { outline:2px solid #1a73e8; }
      .palette-preview { display:flex; gap:4px; }
      .palette-swatch { width:22px; height:22px; border-radius:4px; }
      .closeBtn { background:none; border:none; font-size:18px; cursor:pointer; }
      .controls { margin-top: 10px; display:flex; gap:8px; }
      button { padding:6px 10px; border-radius:6px; border:1px solid #ccc; background:#fff; cursor:pointer; }
      a { font-size:13px; margin-left:6px; color:#1a73e8; text-decoration:none; }
    </style>
  </head>
  <body>
    <h1>Palette Widget</h1>
    <div id="colorWidget">Click me to change palette</div>
    <div class="controls">
      <button id="pickBtn">Pick palette</button>
      <button id="randomBtn">Random</button>
    </div>
    <div class="controls">
      <button id="randomWebBtn">Random Website</button>
      <label><input type="checkbox" id="autoExploreCheck" /> Auto-explore</label>
      <label><input type="checkbox" id="trendingCheck" /> Use trending sites</label>
      <label style="display:flex; align-items:center; gap:6px; margin-left:8px;">Repetitions:
        <input id="repetitionsInput" type="number" min="1" value="1" style="width:56px; padding:4px;" />
      </label>
      <label style="display:flex; align-items:center; gap:6px; margin-left:8px;"><input type="checkbox" id="applyToNewTabCheck" /> Apply theme to new tab</label>
    </div>
    <div class="controls">
      <button id="resetBtn">Reset</button>
      <button id="applyBtn">Apply to page</button>
      <a href="options.html" id="opts">Options</a>
    </div>

    <!-- Palette picker modal -->
    <div id="pickerModal" class="modal" style="display:none;">
      <div class="modal-content">
        <div class="modal-header"><strong>Choose a Palette</strong><button id="closePicker" class="closeBtn">Ã—</button></div>
        <div id="paletteList" class="palette-list"></div>
      </div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>